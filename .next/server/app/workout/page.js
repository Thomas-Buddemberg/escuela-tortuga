(()=>{var e={};e.id=535,e.ids=[535],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9693:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(7213),s(1871),s(5866);var i=s(3191),a=s(8716),n=s(7922),r=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["workout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7213)),"/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/workout/page.tsx"]}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1871)),"/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/workout/page.tsx"],u="/workout/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/workout/page",pathname:"/workout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7786:(e,t,s)=>{Promise.resolve().then(s.bind(s,986))},986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var i=s(326),a=s(7577),n=s(1967),r=s(8648),o=s(8145),l=s(2609),c=s(4168),d=s(6197),u=s(723),m=s(3349);let p=[{id:"turtle_basic",name:"Escuela de la Tortuga — Base",minKi:0,estimatedMinutes:18,type:"full",notes:["T\xe9cnica > velocidad","Deja 1–2 reps en reserva"]},{id:"turtle_kaioken",name:"Kaioken — Volumen controlado",minKi:100,estimatedMinutes:22,type:"full",notes:["Respira y controla ritmo","Descansos completos"]},{id:"turtle_kaioken10",name:"Kaioken \xd710 — Intensidad",minKi:300,estimatedMinutes:26,type:"full",notes:["Mant\xe9n forma estricta","Si duele (articulaci\xf3n), baja variante"]},{id:"turtle_ssj_A",name:"S\xfaper Saiyan — D\xeda A (Empuje + core)",minKi:600,estimatedMinutes:28,type:"splitA",notes:["Sube volumen de push","Core s\xf3lido"]},{id:"turtle_ssj_B",name:"S\xfaper Saiyan — D\xeda B (Piernas + core)",minKi:600,estimatedMinutes:28,type:"splitB",notes:["Piernas y estabilidad","Control de rodillas"]},{id:"turtle_ssj2_A",name:"SSJ2 — Potencia (A)",minKi:1e3,estimatedMinutes:32,type:"splitA",notes:["Explosividad con control","No busques fallo"]},{id:"turtle_ssj2_B",name:"SSJ2 — Potencia (B)",minKi:1e3,estimatedMinutes:32,type:"splitB",notes:["Saltos moderados","Recuperaci\xf3n completa"]},{id:"turtle_ssj3",name:"SSJ3 — Resistencia",minKi:1500,estimatedMinutes:34,type:"full",notes:["Circuitos","Ritmo constante"]},{id:"turtle_ssj4",name:"SSJ4 — Fuerza total",minKi:2200,estimatedMinutes:36,type:"full",notes:["Control corporal","Calienta bien"]},{id:"turtle_god",name:"Saiyan Dios — Precisi\xf3n",minKi:3e3,estimatedMinutes:30,type:"full",notes:["Menos pero mejor","Reps perfectas"]},{id:"turtle_blue",name:"Dios SS — Explosivo",minKi:4e3,estimatedMinutes:34,type:"full",notes:["Explosividad + t\xe9cnica","Descanso suficiente"]},{id:"turtle_blue_kaioken",name:"Dios SS + Kaioken — Alternado",minKi:5500,estimatedMinutes:36,type:"full",notes:["Autoregulaci\xf3n","Si est\xe1s agotado: modo corto"]},{id:"turtle_ui",name:"Ultra Instinto — Fluidez",minKi:7e3,estimatedMinutes:34,type:"full",notes:["Fluye","Movimiento limpio"]},{id:"turtle_mui",name:"UI Dominado — Maestr\xeda",minKi:9e3,estimatedMinutes:36,type:"full",notes:["Consistencia","Detalles y respiraci\xf3n"]}];function x(e,t){let s={...e};return"number"==typeof s.reps&&(s.reps=Math.max(1,Math.round(s.reps*t))),"number"==typeof s.timeSec&&(s.timeSec=Math.max(10,Math.round(s.timeSec*t))),s}var h=s(6714),b=s(6205),f=s(2847),g=s(7852);function y(){let e=(0,l.Gs)(),{player:t,settings:s,loading:y}=(0,c.nn)(),[w,j]=(0,a.useState)("full"),[v,S]=(0,a.useState)(null),[k,_]=(0,a.useState)(!1),[D,K]=(0,a.useState)(0);(0,a.useRef)(null);let N=(0,a.useMemo)(()=>t&&s?function(e,t,s){let i=function(e,t){let s=p.filter(t=>e>=t.minKi).sort((e,t)=>t.minKi-e.minKi),i=s[0]??p[0];if("splitA"===i.type||"splitB"===i.type){let e=Number(t.slice(-2))%2==0,a=i.id.includes("_A")||i.id.includes("_B")?i.id.slice(0,-2):i.id;return s.find(t=>t.id.startsWith(a)&&(e?"splitA"===t.type:"splitB"===t.type))??i}return i}(e,s),a=(0,d.rS)(e).key,n=(0,u.wc)(t.difficulty),r=(0,m.j)(e,["pushup_knee","pushup","pushup_slow","pushup_decline"]),o=(0,m.j)(e,["squat","squat_pause","lunge","split_squat","jump_squat"]),l=(0,m.j)(e,["plank","plank_30","hollow","side_plank","mountain_climbers"]),c=(0,m.j)(e,["dips_chair","pushup"]),h=(0,m.j)(e,["mountain_climbers","burpees","bear_crawl"]),b=[{name:"Bloque A (Fuerza)",exercises:[x(r,n),x(o,n)]},{name:"Bloque B (Accesorios)",exercises:[x(c,n),x(l,n)]}],f=[{name:"Bloque A (Empuje)",exercises:[x(r,n),x(c,n)]},{name:"Bloque B (Core)",exercises:[x(l,n)]}],g=[{name:"Bloque A (Piernas)",exercises:[x(o,n)]},{name:"Bloque B (Core + estabilidad)",exercises:[x(l,n)]}],y={name:"Finisher (opcional, 3–6 min)",exercises:[x(h,n)]},w=[{name:"Calentamiento (3–5 min)",exercises:[{id:"warm_mobility",name:"Movilidad general (cuello, hombros, cadera)",sets:1,timeSec:180,restSec:0,minKi:0,tags:["warmup"]},{id:"warm_activation",name:"Activaci\xf3n (sentadilla suave + brazos)",sets:1,timeSec:120,restSec:0,minKi:0,tags:["warmup"]}]}];return(w="splitA"===i.type?w.concat(f):"splitB"===i.type?w.concat(g):w.concat(b)).push(y,{name:"Vuelta a la calma (2–4 min)",exercises:[{id:"cool_breath",name:"Respiraci\xf3n nasal + caminar suave",sets:1,timeSec:120,restSec:0,minKi:0,tags:["cooldown"]},{id:"cool_stretch",name:"Estiramiento suave (piernas/pecho)",sets:1,timeSec:120,restSec:0,minKi:0,tags:["cooldown"]}]}),{dateISO:s,templateId:i.id,name:i.name,estimatedMinutes:i.estimatedMinutes,transformation:a,notes:i.notes,blocks:w}}(t.kiTotal,s,e):null,[t,s,e]),[M,q]=(0,a.useState)({});function A(e,t,s){q(i=>{let a=i[e]??0;return{...i,[e]:Math.max(0,Math.min(t,a+s))}})}async function C(){N&&(await (0,f.js)({dateISO:e,questId:"main_workout"}),S((await (0,h.XI)({todayISO:e,templateId:N.templateId,mode:w,durationSec:D})).message),_(!1),K(0),q({}))}async function I(){_(!1),K(0),q({}),S("Sesi\xf3n reiniciada.")}async function P(){await (0,f.js)({dateISO:e,questId:"side_walk_or_mobility",actionOverride:"mobility"}),S("Movilidad marcada ✅")}if(y||!t||!s||!N)return i.jsx("div",{className:"space-y-4",children:i.jsx(n.Z,{title:"Cargando entrenamiento...",children:i.jsx("p",{className:"text-sm text-white/70",children:"Buscando la rutina adecuada seg\xfan tu KI \uD83D\uDC22"})})});let B=N.blocks.flatMap(e=>e.exercises),E=B.reduce((e,t)=>e+(t.sets??0),0),R=B.reduce((e,t)=>e+Math.min(t.sets,M[t.id]??0),0);return(0,i.jsxs)("div",{className:"space-y-4",children:[v?i.jsx(o.Z,{message:v,kind:"success",onClose:()=>S(null)}):null,(0,i.jsxs)(n.Z,{title:"Entrenamiento del d\xeda",right:(0,i.jsxs)("div",{className:"text-xs text-white/60",children:["Plantilla: ",N.templateId]}),children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-lg font-semibold",children:N.name}),(0,i.jsxs)("div",{className:"text-xs text-white/60",children:["Estimado ",N.estimatedMinutes," min • Forma: ",i.jsx("span",{className:"font-semibold",children:N.transformation})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:(0,g.cn)("rounded-xl border px-3 py-2 text-sm","full"===w?"border-white/25 bg-white/10":"border-white/10 bg-black/20 text-white/70"),onClick:()=>j("full"),children:"Completo (+20 KI)"}),i.jsx("button",{className:(0,g.cn)("rounded-xl border px-3 py-2 text-sm","quick"===w?"border-white/25 bg-white/10":"border-white/10 bg-black/20 text-white/70"),onClick:()=>j("quick"),children:"Corto (+10 KI)"})]})]}),i.jsx("div",{className:"mt-3 rounded-2xl border border-white/10 bg-black/20 p-3",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("span",{className:"text-white/70",children:"Tiempo:"})," ",i.jsx("span",{className:"font-semibold",children:(0,g.Z)(D)}),i.jsx("span",{className:"text-white/50",children:" • "}),i.jsx("span",{className:"text-white/70",children:"Progreso sets:"})," ",(0,i.jsxs)("span",{className:"font-semibold",children:[R,"/",E]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[i.jsx(r.Z,{variant:"secondary",onClick:function(){k?_(!1):(_(!0),K(0))},children:k?"Pausar":"Iniciar"}),i.jsx(r.Z,{variant:"ghost",onClick:I,children:"Reiniciar"})]})]})}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.jsx(r.Z,{variant:"secondary",onClick:P,children:"Marcar movilidad (Side Quest)"})})]}),(0,i.jsxs)(n.Z,{title:"Rutina",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[N.notes.length?i.jsx("ul",{className:"list-disc space-y-1 pl-5 text-xs text-white/65",children:N.notes.map(e=>i.jsx("li",{children:e},e))}):null,N.blocks.map(e=>(0,i.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-3",children:[i.jsx("div",{className:"text-sm font-semibold",children:e.name}),i.jsx("div",{className:"mt-2 space-y-2",children:e.exercises.map(e=>{let t=M[e.id]??0,s=e.reps?`${e.sets}\xd7${e.reps} reps`:`${e.sets}\xd7${e.timeSec??0}s`;return i.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:(0,i.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-white/60",children:[s," • descanso ",e.restSec,"s"]}),e.tips?.length?i.jsx("ul",{className:"mt-1 list-disc pl-5 text-[11px] text-white/55",children:e.tips.map(e=>i.jsx("li",{children:e},e))}):null]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm hover:bg-white/10",onClick:()=>A(e.id,e.sets,-1),children:"-"}),(0,i.jsxs)("div",{className:"min-w-[42px] text-center text-sm font-semibold",children:[t,"/",e.sets]}),i.jsx("button",{className:"rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm hover:bg-white/10",onClick:()=>A(e.id,e.sets,1),children:"+"})]})]})},e.id)})})]},e.name))]}),(0,i.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx(r.Z,{variant:"primary",onClick:C,children:"Finalizar entrenamiento"}),i.jsx(r.Z,{variant:"ghost",onClick:async()=>{console.log("Actions today:",await b.db.actions.where({dateISO:e}).toArray()),S("Logs listos (ver consola).")},children:"Debug"})]})]})]})}},8648:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s(326);function a({variant:e="primary",className:t="",...s}){return i.jsx("button",{className:["inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-white text-black hover:opacity-90",secondary:"bg-white/10 text-white hover:bg-white/15 border border-white/10",ghost:"bg-transparent text-white/80 hover:bg-white/10 hover:text-white",danger:"bg-red-500/20 text-red-200 hover:bg-red-500/25 border border-red-500/25"}[e],t].join(" "),...s})}},1967:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s(326);function a({title:e,children:t,right:s}){return(0,i.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-soft",children:[e||s?(0,i.jsxs)("header",{className:"mb-3 flex items-start justify-between gap-4",children:[e?i.jsx("h2",{className:"text-sm font-semibold text-white/90",children:e}):i.jsx("div",{}),s]}):null,t??null]})}},8145:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var i=s(326),a=s(7577);function n({message:e,kind:t="info",onClose:s,durationMs:n=2600}){let[r,o]=(0,a.useState)(!0);return r?i.jsx("div",{className:"fixed inset-x-0 bottom-20 z-50 mx-auto max-w-3xl px-4",children:i.jsx("div",{className:`rounded-2xl border p-3 shadow-soft ${"success"===t?"border-emerald-500/25 bg-emerald-500/12 text-emerald-100":"warning"===t?"border-amber-500/25 bg-amber-500/12 text-amber-100":"border-white/10 bg-white/6 text-white/90"}`,children:(0,i.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[i.jsx("div",{className:"text-sm",children:e}),i.jsx("button",{className:"rounded-lg px-2 py-1 text-xs text-white/70 hover:bg-white/10",onClick:()=>{o(!1),s()},children:"Cerrar"})]})})}):null}},3349:(e,t,s)=>{"use strict";s.d(t,{j:()=>a,n:()=>i});let i=[{id:"pushup_knee",name:"Flexiones con rodillas",sets:3,reps:8,restSec:60,minKi:0,tags:["push"]},{id:"pushup",name:"Flexiones",sets:3,reps:8,restSec:60,minKi:50,tags:["push"]},{id:"pushup_slow",name:"Flexiones lentas (3s bajada)",sets:4,reps:10,restSec:75,minKi:300,tags:["push"]},{id:"pushup_decline",name:"Flexiones declinadas",sets:4,reps:10,restSec:90,minKi:600,tags:["push"]},{id:"dips_chair",name:"Fondos en silla/banco",sets:3,reps:10,restSec:75,minKi:250,tags:["push","triceps"]},{id:"squat",name:"Sentadillas aire",sets:3,reps:15,restSec:60,minKi:0,tags:["legs"]},{id:"squat_pause",name:"Sentadilla con pausa (1s abajo)",sets:4,reps:15,restSec:75,minKi:100,tags:["legs"]},{id:"lunge",name:"Zancadas",sets:3,reps:10,restSec:75,minKi:100,tags:["legs"]},{id:"split_squat",name:"Split squat (est\xe1tico)",sets:4,reps:10,restSec:90,minKi:600,tags:["legs"]},{id:"jump_squat",name:"Sentadillas con salto",sets:4,reps:12,restSec:90,minKi:1e3,tags:["legs","power"]},{id:"plank",name:"Plancha",sets:3,timeSec:20,restSec:45,minKi:0,tags:["core"]},{id:"plank_30",name:"Plancha",sets:3,timeSec:30,restSec:45,minKi:100,tags:["core"]},{id:"side_plank",name:"Plancha lateral",sets:3,timeSec:25,restSec:45,minKi:600,tags:["core"]},{id:"hollow",name:"Hollow hold",sets:3,timeSec:30,restSec:45,minKi:300,tags:["core"]},{id:"mountain_climbers",name:"Mountain climbers",sets:3,timeSec:30,restSec:45,minKi:600,tags:["conditioning","core"]},{id:"burpees",name:"Burpees",sets:4,reps:8,restSec:90,minKi:1e3,tags:["conditioning"]},{id:"bear_crawl",name:"Bear crawl (ida y vuelta)",sets:4,timeSec:25,restSec:75,minKi:1500,tags:["conditioning"]}];function a(e,t){let s=i.filter(e=>t.includes(e.id));if(0===s.length)throw Error("No candidates for exercise pick");let a=s.filter(t=>e>=t.minKi);return 0===a.length?s.sort((e,t)=>e.minKi-t.minKi)[0]:a.sort((e,t)=>t.minKi-e.minKi)[0]}},6197:(e,t,s)=>{"use strict";s.d(t,{$T:()=>n,YD:()=>i,rS:()=>a});let i=[{key:"normal",name:"Normal",minKi:0,emoji:"\uD83D\uDE42"},{key:"kaioken",name:"Kaioken",minKi:100,emoji:"\uD83D\uDD25"},{key:"kaioken10",name:"Kaioken \xd710",minKi:300,emoji:"\uD83D\uDD25\uD83D\uDD25"},{key:"ssj",name:"S\xfaper Saiyan",minKi:600,emoji:"\uD83D\uDC9B"},{key:"ssj2",name:"S\xfaper Saiyan 2",minKi:1e3,emoji:"⚡"},{key:"ssj3",name:"S\xfaper Saiyan 3",minKi:1500,emoji:"\uD83D\uDD25"},{key:"ssj4",name:"S\xfaper Saiyan 4",minKi:2200,emoji:"\uD83E\uDD8D"},{key:"god",name:"S\xfaper Saiyan Dios",minKi:3e3,emoji:"\uD83D\uDD34"},{key:"blue",name:"S\xfaper Saiyan Dios SS",minKi:4e3,emoji:"\uD83D\uDD35"},{key:"blue_kaioken",name:"Dios SS + Kaioken",minKi:5500,emoji:"\uD83D\uDD35\uD83D\uDD25"},{key:"ui",name:"Ultra Instinto",minKi:7e3,emoji:"⚪"},{key:"mui",name:"Ultra Instinto Dominado",minKi:9e3,emoji:"⚪✨"}];function a(e){let t=i[0];for(let s of i)e>=s.minKi&&(t=s);return t}function n(e){for(let t of i)if(e<t.minKi)return t;return null}},4168:(e,t,s)=>{"use strict";s.d(t,{nn:()=>o,s2:()=>c,tu:()=>l,e6:()=>d});var i=s(3864),a=s(7577);function n(e,t,s){return function(e,t,s){"function"==typeof e?(i=t||[],n=s):(i=[],n=t);var i,n,r=a.useRef({hasResult:!1,result:n,error:null}),o=a.useReducer(function(e){return e+1},0);o[0];var l=o[1],c=a.useMemo(function(){var t="function"==typeof e?e():e;if(!t||"function"!=typeof t.subscribe){if(e===t)throw TypeError("Given argument to useObservable() was neither a valid observable nor a function.");throw TypeError("Observable factory given to useObservable() did not return a valid observable.")}if(!r.current.hasResult&&"undefined"!=typeof window&&("function"!=typeof t.hasValue||t.hasValue())){if("function"==typeof t.getValue)r.current.result=t.getValue(),r.current.hasResult=!0;else{var s=t.subscribe(function(e){r.current.result=e,r.current.hasResult=!0});"function"==typeof s?s():s.unsubscribe()}}return t},i);if(a.useDebugValue(r.current.result),a.useEffect(function(){var e=c.subscribe(function(e){var t=r.current;(null!==t.error||t.result!==e)&&(t.error=null,t.result=e,t.hasResult=!0,l())},function(e){var t=r.current;t.error!==e&&(t.error=e,l())});return"function"==typeof e?e:e.unsubscribe.bind(e)},i),r.current.error)throw r.current.error;return r.current.result}(function(){return(0,i.Y1)(e)},t||[],s)}var r=s(6205);function o(){let e=n(async()=>r.db.player.get("player"),[]),t=n(async()=>r.db.settings.get("settings"),[]);return{player:e,settings:t,loading:!e||!t}}function l(e){return{questCompletions:n(async()=>r.db.quests.where({dateISO:e}).toArray(),[e])??[],actions:n(async()=>r.db.actions.where({dateISO:e}).toArray(),[e])??[],workouts:n(async()=>r.db.workouts.where({dateISO:e}).toArray(),[e])??[]}}function c(e=30){return n(async()=>await r.db.actions.orderBy("createdAtISO").reverse().limit(e).toArray(),[e])??[]}function d(e=30){return n(async()=>await r.db.workouts.orderBy("completedAtISO").reverse().limit(e).toArray(),[e])??[]}},2847:(e,t,s)=>{"use strict";s.d(t,{js:()=>l,ar:()=>r});var i=s(6205);let a=[{questId:"main_workout",title:"Main Quest: Entrenamiento",description:"Completa el entrenamiento del d\xeda (modo completo o corto).",rewardKi:0},{questId:"side_walk_or_mobility",title:"Side Quest: Movimiento suave",description:"Haz una caminata de 20–30 min o movilidad 8–12 min.",rewardKi:5,actionType:"walk"},{questId:"discipline_sleep",title:"Discipline Quest: Descanso",description:"Dorm\xed bien (autodeclarado).",rewardKi:5,actionType:"sleep"},{questId:"discipline_food",title:"Discipline Quest: Alimentaci\xf3n",description:"Com\xed decente hoy (autodeclarado).",rewardKi:5,actionType:"food"}];var n=s(6714);function r(){return a}async function o(e,t){return await i.db.quests.where({dateISO:e,questId:t}).count()>0}async function l(e){let{dateISO:t,questId:s,actionOverride:r}=e;if(await o(t,s))return{kiAdded:0,message:"Quest ya completada hoy."};let l=a.find(e=>e.questId===s);if(!l)throw Error("Quest desconocida");await i.db.quests.add({dateISO:t,questId:s,completedAtISO:new Date().toISOString(),meta:r?{actionOverride:r}:void 0});if("side_walk_or_mobility"===s){let e=await (0,n.J)({todayISO:t,type:r??"walk",note:`quest:${s}`});return{kiAdded:e.kiAdded,message:e.message}}if(l.actionType){let e=await (0,n.J)({todayISO:t,type:l.actionType,note:`quest:${s}`});return{kiAdded:e.kiAdded,message:e.message}}return{kiAdded:0,message:"Quest registrada."}}},7852:(e,t,s)=>{"use strict";function i(...e){return e.filter(Boolean).join(" ")}function a(e){return!e||e<=0?"0:00":`${Math.floor(e/60)}:${String(Math.floor(e%60)).padStart(2,"0")}`}s.d(t,{Z:()=>a,cn:()=>i})},7213:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>o});var i=s(8570);let a=(0,i.createProxy)(String.raw`/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/workout/page.tsx`),{__esModule:n,$$typeof:r}=a;a.default;let o=(0,i.createProxy)(String.raw`/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/workout/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[948,693,55],()=>s(9693));module.exports=i})();