(()=>{var e={};e.id=938,e.ids=[938],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(5964),r(1871),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5964)),"/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/settings/page.tsx"]}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1871)),"/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/settings/page.tsx"],u="/settings/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6734:(e,t,r)=>{Promise.resolve().then(r.bind(r,6183))},6183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(326),a=r(1967),n=r(8648),i=r(8145),o=r(7577),l=r(4168),c=r(6714),d=r(6205);let u={i8:"0.1.0"};function x(){let{player:e,settings:t,loading:r}=(0,l.nn)(),[x,p]=(0,o.useState)(null),[m,h]=(0,o.useState)(!1);if(r||!e||!t)return s.jsx("div",{className:"space-y-4",children:s.jsx(a.Z,{title:"Cargando ajustes..."})});async function b(){let e=new Blob([JSON.stringify(await (0,d.C6)(),null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`turtle-ki-export-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(t),p("Export descargado ✅")}async function g(e){h(!0);try{let t=await e.text(),r=JSON.parse(t);await (0,d.j3)(r),p("Import completado ✅ (recarga si no ves cambios)")}catch(e){console.error(e),p("Error importando. Archivo inv\xe1lido.")}finally{h(!1)}}async function f(){confirm("Esto borrar\xe1 TODO tu progreso en este dispositivo. \xbfSeguro?")&&(await (0,d.wv)(),p("Datos reiniciados ✅"))}return(0,s.jsxs)("div",{className:"space-y-4",children:[x?s.jsx(i.Z,{message:x,kind:"info",onClose:()=>p(null)}):null,s.jsx(a.Z,{title:"Econom\xeda de KI",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Cap diario"}),s.jsx("div",{className:"text-xs text-white/60",children:"L\xedmite de KI que puedes ganar por acciones normales en un d\xeda. (Los bonus de streak pueden excederlo)"}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[s.jsx("input",{type:"range",min:20,max:80,step:5,value:t.dailyKiCap,onChange:e=>(0,c.Bw)(Number(e.target.value)),className:"w-full"}),s.jsx("div",{className:"w-16 text-right text-sm font-semibold",children:t.dailyKiCap})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Dificultad"}),s.jsx("div",{className:"text-xs text-white/60",children:"Ajusta reps/tiempos del entrenamiento generado."}),s.jsx("div",{className:"mt-2",children:(0,s.jsxs)("select",{value:t.difficulty,onChange:e=>(0,c.lf)(e.target.value),className:"w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm outline-none focus:border-white/25",children:[s.jsx("option",{value:"easy",children:"F\xe1cil (−15%)"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"hard",children:"Dif\xedcil (+15%)"})]})})]}),s.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-3",children:(0,s.jsxs)("label",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-sm font-semibold",children:"Reducir animaciones"}),s.jsx("div",{className:"text-xs text-white/60",children:"Preferencia de accesibilidad."})]}),s.jsx("input",{type:"checkbox",checked:t.reduceMotion,onChange:e=>(0,c.Hz)(e.target.checked)})]})})]})}),(0,s.jsxs)(a.Z,{title:"Backup (Export/Import)",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx(n.Z,{variant:"secondary",onClick:b,children:"Exportar JSON"}),(0,s.jsxs)("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm hover:bg-white/10",children:[s.jsx("span",{children:m?"Importando...":"Importar JSON"}),s.jsx("input",{type:"file",accept:"application/json",className:"hidden",disabled:m,onChange:e=>{let t=e.target.files?.[0];t&&g(t)}})]})]}),s.jsx("p",{className:"mt-2 text-xs text-white/60",children:"Tip: exporta antes de limpiar cach\xe9 del navegador o cambiar de dispositivo."})]}),s.jsx(a.Z,{title:"Peligro",children:s.jsx("div",{className:"space-y-3",children:(0,s.jsxs)("div",{className:"rounded-2xl border border-red-500/25 bg-red-500/10 p-3",children:[s.jsx("div",{className:"text-sm font-semibold text-red-100",children:"Reiniciar datos"}),s.jsx("div",{className:"text-xs text-red-100/80",children:"Borra progreso local en este dispositivo (KI, streak, historial)."}),s.jsx("div",{className:"mt-3",children:s.jsx(n.Z,{variant:"danger",onClick:f,children:"Borrar todo"})})]})})}),s.jsx(a.Z,{title:"Acerca de",children:(0,s.jsxs)("div",{className:"text-sm",children:["Versi\xf3n de la app: v",u.i8]})})]})}},8648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);function a({variant:e="primary",className:t="",...r}){return s.jsx("button",{className:["inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-white text-black hover:opacity-90",secondary:"bg-white/10 text-white hover:bg-white/15 border border-white/10",ghost:"bg-transparent text-white/80 hover:bg-white/10 hover:text-white",danger:"bg-red-500/20 text-red-200 hover:bg-red-500/25 border border-red-500/25"}[e],t].join(" "),...r})}},1967:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);function a({title:e,children:t,right:r}){return(0,s.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-soft",children:[e||r?(0,s.jsxs)("header",{className:"mb-3 flex items-start justify-between gap-4",children:[e?s.jsx("h2",{className:"text-sm font-semibold text-white/90",children:e}):s.jsx("div",{}),r]}):null,t??null]})}},8145:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(326),a=r(7577);function n({message:e,kind:t="info",onClose:r,durationMs:n=2600}){let[i,o]=(0,a.useState)(!0);return i?s.jsx("div",{className:"fixed inset-x-0 bottom-20 z-50 mx-auto max-w-3xl px-4",children:s.jsx("div",{className:`rounded-2xl border p-3 shadow-soft ${"success"===t?"border-emerald-500/25 bg-emerald-500/12 text-emerald-100":"warning"===t?"border-amber-500/25 bg-amber-500/12 text-amber-100":"border-white/10 bg-white/6 text-white/90"}`,children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-sm",children:e}),s.jsx("button",{className:"rounded-lg px-2 py-1 text-xs text-white/70 hover:bg-white/10",onClick:()=>{o(!1),r()},children:"Cerrar"})]})})}):null}},4168:(e,t,r)=>{"use strict";r.d(t,{rn:()=>c,nn:()=>o,tu:()=>l,e6:()=>d});var s=r(3864),a=r(7577);function n(e,t,r){return function(e,t,r){"function"==typeof e?(s=t||[],n=r):(s=[],n=t);var s,n,i=a.useRef({hasResult:!1,result:n,error:null}),o=a.useReducer(function(e){return e+1},0);o[0];var l=o[1],c=a.useMemo(function(){var t="function"==typeof e?e():e;if(!t||"function"!=typeof t.subscribe){if(e===t)throw TypeError("Given argument to useObservable() was neither a valid observable nor a function.");throw TypeError("Observable factory given to useObservable() did not return a valid observable.")}if(!i.current.hasResult&&"undefined"!=typeof window&&("function"!=typeof t.hasValue||t.hasValue())){if("function"==typeof t.getValue)i.current.result=t.getValue(),i.current.hasResult=!0;else{var r=t.subscribe(function(e){i.current.result=e,i.current.hasResult=!0});"function"==typeof r?r():r.unsubscribe()}}return t},s);if(a.useDebugValue(i.current.result),a.useEffect(function(){var e=c.subscribe(function(e){var t=i.current;(null!==t.error||t.result!==e)&&(t.error=null,t.result=e,t.hasResult=!0,l())},function(e){var t=i.current;t.error!==e&&(t.error=e,l())});return"function"==typeof e?e:e.unsubscribe.bind(e)},s),i.current.error)throw i.current.error;return i.current.result}(function(){return(0,s.Y1)(e)},t||[],r)}var i=r(6205);function o(){let e=n(async()=>i.db.player.get("player"),[]),t=n(async()=>i.db.settings.get("settings"),[]);return{player:e,settings:t,loading:!e||!t}}function l(e){return{questCompletions:n(async()=>i.db.quests.where({dateISO:e}).toArray(),[e])??[],actions:n(async()=>i.db.actions.where({dateISO:e}).toArray(),[e])??[],workouts:n(async()=>i.db.workouts.where({dateISO:e}).toArray(),[e])??[]}}function c(){return n(async()=>await i.db.actions.orderBy("dateISO").toArray(),[])??[]}function d(e=30){return n(async()=>await i.db.workouts.orderBy("completedAtISO").reverse().limit(e).toArray(),[e])??[]}},5964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/settings/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/Users/tbuddemberg/Desktop/Escuela/escuela-tortuga/src/app/settings/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,693,55],()=>r(6622));module.exports=s})();