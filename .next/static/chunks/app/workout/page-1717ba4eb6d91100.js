(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{9335:function(e,a,s){Promise.resolve().then(s.bind(s,2635))},2635:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return S}});var i=s(7437),t=s(2265),n=s(1672),o=s(2098),r=s(8873),l=s(1550),c=s(2694),d=s(149),u=s(4002),m=s(111);let p=[{id:"turtle_basic",name:"Escuela de la Tortuga — Base",minKi:0,estimatedMinutes:18,type:"full",notes:["T\xe9cnica > velocidad","Deja 1–2 reps en reserva"]},{id:"turtle_kaioken",name:"Kaioken — Volumen controlado",minKi:100,estimatedMinutes:22,type:"full",notes:["Respira y controla ritmo","Descansos completos"]},{id:"turtle_kaioken10",name:"Kaioken \xd710 — Intensidad",minKi:300,estimatedMinutes:26,type:"full",notes:["Mant\xe9n forma estricta","Si duele (articulaci\xf3n), baja variante"]},{id:"turtle_ssj_A",name:"S\xfaper Saiyan — D\xeda A (Empuje + core)",minKi:600,estimatedMinutes:28,type:"splitA",notes:["Sube volumen de push","Core s\xf3lido"]},{id:"turtle_ssj_B",name:"S\xfaper Saiyan — D\xeda B (Piernas + core)",minKi:600,estimatedMinutes:28,type:"splitB",notes:["Piernas y estabilidad","Control de rodillas"]},{id:"turtle_ssj2_A",name:"SSJ2 — Potencia (A)",minKi:1e3,estimatedMinutes:32,type:"splitA",notes:["Explosividad con control","No busques fallo"]},{id:"turtle_ssj2_B",name:"SSJ2 — Potencia (B)",minKi:1e3,estimatedMinutes:32,type:"splitB",notes:["Saltos moderados","Recuperaci\xf3n completa"]},{id:"turtle_ssj3",name:"SSJ3 — Resistencia",minKi:1500,estimatedMinutes:34,type:"full",notes:["Circuitos","Ritmo constante"]},{id:"turtle_ssj4",name:"SSJ4 — Fuerza total",minKi:2200,estimatedMinutes:36,type:"full",notes:["Control corporal","Calienta bien"]},{id:"turtle_god",name:"Saiyan Dios — Precisi\xf3n",minKi:3e3,estimatedMinutes:30,type:"full",notes:["Menos pero mejor","Reps perfectas"]},{id:"turtle_blue",name:"Dios SS — Explosivo",minKi:4e3,estimatedMinutes:34,type:"full",notes:["Explosividad + t\xe9cnica","Descanso suficiente"]},{id:"turtle_blue_kaioken",name:"Dios SS + Kaioken — Alternado",minKi:5500,estimatedMinutes:36,type:"full",notes:["Autoregulaci\xf3n","Si est\xe1s agotado: modo corto"]},{id:"turtle_ui",name:"Ultra Instinto — Fluidez",minKi:7e3,estimatedMinutes:34,type:"full",notes:["Fluye","Movimiento limpio"]},{id:"turtle_mui",name:"UI Dominado — Maestr\xeda",minKi:9e3,estimatedMinutes:36,type:"full",notes:["Consistencia","Detalles y respiraci\xf3n"]}];function h(e,a){let s={...e};return"number"==typeof s.reps&&(s.reps=Math.max(1,Math.round(s.reps*a))),"number"==typeof s.timeSec&&(s.timeSec=Math.max(10,Math.round(s.timeSec*a))),s}var b=s(8902),f=s(9608),x=s(7424),g=s(3960);function S(){let e=(0,l.Gs)(),{player:a,settings:s,loading:S}=(0,c.nn)(),[j,y]=(0,t.useState)("full"),[v,_]=(0,t.useState)(null),[k,w]=(0,t.useState)(!1),[K,D]=(0,t.useState)(null),[M,N]=(0,t.useState)(0),[q,A]=(0,t.useState)(0),C="workoutSessionV1",I=(0,t.useMemo)(()=>a&&s?function(e,a,s){let i=function(e,a){var s;let i=p.filter(a=>e>=a.minKi).sort((e,a)=>a.minKi-e.minKi),t=null!==(s=i[0])&&void 0!==s?s:p[0];if("splitA"===t.type||"splitB"===t.type){let e=Number(a.slice(-2))%2==0,s=t.id.includes("_A")||t.id.includes("_B")?t.id.slice(0,-2):t.id,n=i.find(a=>a.id.startsWith(s)&&(e?"splitA"===a.type:"splitB"===a.type));return null!=n?n:t}return t}(e,s),t=(0,d.rS)(e).key,n=(0,u.wc)(a.difficulty),o=(0,m.j)(e,["pushup_knee","pushup","pushup_slow","pushup_decline"]),r=(0,m.j)(e,["squat","squat_pause","lunge","split_squat","jump_squat"]),l=(0,m.j)(e,["plank","plank_30","hollow","side_plank","mountain_climbers"]),c=(0,m.j)(e,["dips_chair","pushup"]),b=(0,m.j)(e,["mountain_climbers","burpees","bear_crawl"]),f=[{name:"Bloque A (Fuerza)",exercises:[h(o,n),h(r,n)]},{name:"Bloque B (Accesorios)",exercises:[h(c,n),h(l,n)]}],x=[{name:"Bloque A (Empuje)",exercises:[h(o,n),h(c,n)]},{name:"Bloque B (Core)",exercises:[h(l,n)]}],g=[{name:"Bloque A (Piernas)",exercises:[h(r,n)]},{name:"Bloque B (Core + estabilidad)",exercises:[h(l,n)]}],S={name:"Finisher (opcional, 3–6 min)",exercises:[h(b,n)]},j=[{name:"Calentamiento (3–5 min)",exercises:[{id:"warm_mobility",name:"Movilidad general (cuello, hombros, cadera)",sets:1,timeSec:180,restSec:0,minKi:0,tags:["warmup"]},{id:"warm_activation",name:"Activaci\xf3n (sentadilla suave + brazos)",sets:1,timeSec:120,restSec:0,minKi:0,tags:["warmup"]}]}];return(j="splitA"===i.type?j.concat(x):"splitB"===i.type?j.concat(g):j.concat(f)).push(S,{name:"Vuelta a la calma (2–4 min)",exercises:[{id:"cool_breath",name:"Respiraci\xf3n nasal + caminar suave",sets:1,timeSec:120,restSec:0,minKi:0,tags:["cooldown"]},{id:"cool_stretch",name:"Estiramiento suave (piernas/pecho)",sets:1,timeSec:120,restSec:0,minKi:0,tags:["cooldown"]}]}),{dateISO:s,templateId:i.id,name:i.name,estimatedMinutes:i.estimatedMinutes,transformation:t,notes:i.notes,blocks:j}}(a.kiTotal,s,e):null,[a,s,e]),[B,P]=(0,t.useState)({});function E(e,a,s){P(i=>{var t;let n=null!==(t=i[e])&&void 0!==t?t:0;return{...i,[e]:Math.max(0,Math.min(a,n+s))}})}async function F(){if(I){await (0,x.js)({dateISO:e,questId:"main_workout"}),_((await (0,b.XI)({todayISO:e,templateId:I.templateId,mode:j,durationSec:q})).message),w(!1),D(null),N(0),A(0),P({});try{localStorage.removeItem(C)}catch(e){}}}async function z(){w(!1),D(null),N(0),A(0),P({});try{localStorage.removeItem(C)}catch(e){}_("Sesi\xf3n reiniciada.")}async function Z(){await (0,x.js)({dateISO:e,questId:"side_walk_or_mobility",actionOverride:"mobility"}),_("Movilidad marcada ✅")}if((0,t.useEffect)(()=>{try{let a=localStorage.getItem(C);if(a){let s=JSON.parse(a);s&&s.dateISO===e?(w(!!s.started),D("number"==typeof s.startAtMs?s.startAtMs:null),N("number"==typeof s.offsetSec?s.offsetSec:0)):localStorage.removeItem(C)}}catch(e){}},[e]),(0,t.useEffect)(()=>{try{localStorage.setItem(C,JSON.stringify({dateISO:e,started:k,startAtMs:K,offsetSec:M}))}catch(e){}},[e,k,K,M]),(0,t.useEffect)(()=>{if(!k){A(M);return}let e=()=>{let e=Date.now();A((K?Math.floor((e-K)/1e3):0)+M)};e();let a=window.setInterval(e,1e3);return()=>window.clearInterval(a)},[k,K,M]),S||!a||!s||!I)return(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsx)(n.Z,{title:"Cargando entrenamiento...",children:(0,i.jsx)("p",{className:"text-sm text-white/70",children:"Buscando la rutina adecuada seg\xfan tu KI \uD83D\uDC22"})})});let R=I.blocks.flatMap(e=>e.exercises),T=R.reduce((e,a)=>{var s;return e+(null!==(s=a.sets)&&void 0!==s?s:0)},0),O=R.reduce((e,a)=>{var s;return e+Math.min(a.sets,null!==(s=B[a.id])&&void 0!==s?s:0)},0);return(0,i.jsxs)("div",{className:"space-y-4",children:[v?(0,i.jsx)(r.Z,{message:v,kind:"success",onClose:()=>_(null)}):null,(0,i.jsxs)(n.Z,{title:"Entrenamiento del d\xeda",right:(0,i.jsxs)("div",{className:"text-xs text-white/60",children:["Plantilla: ",I.templateId]}),children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-lg font-semibold",children:I.name}),(0,i.jsxs)("div",{className:"text-xs text-white/60",children:["Estimado ",I.estimatedMinutes," min • Forma: ",(0,i.jsx)("span",{className:"font-semibold",children:I.transformation})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{className:(0,g.cn)("rounded-xl border px-3 py-2 text-sm","full"===j?"border-white/25 bg-white/10":"border-white/10 bg-black/20 text-white/70"),onClick:()=>y("full"),children:"Completo (+20 KI)"}),(0,i.jsx)("button",{className:(0,g.cn)("rounded-xl border px-3 py-2 text-sm","quick"===j?"border-white/25 bg-white/10":"border-white/10 bg-black/20 text-white/70"),onClick:()=>y("quick"),children:"Corto (+10 KI)"})]})]}),(0,i.jsx)("div",{className:"mt-3 rounded-2xl border border-white/10 bg-black/20 p-3",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Tiempo:"})," ",(0,i.jsx)("span",{className:"font-semibold",children:(0,g.Z)(q)}),(0,i.jsx)("span",{className:"text-white/50",children:" • "}),(0,i.jsx)("span",{className:"text-white/70",children:"Progreso sets:"})," ",(0,i.jsxs)("span",{className:"font-semibold",children:[O,"/",T]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(o.Z,{variant:"secondary",onClick:function(){if(k){let e=Date.now();N((K?Math.floor((e-K)/1e3):0)+M),D(null),w(!1)}else w(!0),D(Date.now())},children:k?"Pausar":"Iniciar"}),(0,i.jsx)(o.Z,{variant:"ghost",onClick:z,children:"Reiniciar"})]})]})}),(0,i.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:(0,i.jsx)(o.Z,{variant:"secondary",onClick:Z,children:"Marcar movilidad (Side Quest)"})})]}),(0,i.jsxs)(n.Z,{title:"Rutina",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[I.notes.length?(0,i.jsx)("ul",{className:"list-disc space-y-1 pl-5 text-xs text-white/65",children:I.notes.map(e=>(0,i.jsx)("li",{children:e},e))}):null,I.blocks.map(e=>(0,i.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-3",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:e.name}),(0,i.jsx)("div",{className:"mt-2 space-y-2",children:e.exercises.map(e=>{var a,s,t;let n=null!==(s=B[e.id])&&void 0!==s?s:0,o=e.reps?"".concat(e.sets,"\xd7").concat(e.reps," reps"):"".concat(e.sets,"\xd7").concat(null!==(t=e.timeSec)&&void 0!==t?t:0,"s");return(0,i.jsx)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:(0,i.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("img",{src:"/assets/".concat(encodeURIComponent(e.name),".png"),alt:e.name,className:"h-10 w-10 flex-shrink-0 rounded-lg border border-white/10 bg-black/30 object-cover",loading:"lazy",onError:e=>{e.currentTarget.style.display="none"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-white/60",children:[o," • descanso ",e.restSec,"s"]}),(null===(a=e.tips)||void 0===a?void 0:a.length)?(0,i.jsx)("ul",{className:"mt-1 list-disc pl-5 text-[11px] text-white/55",children:e.tips.map(e=>(0,i.jsx)("li",{children:e},e))}):null]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{className:"rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm hover:bg-white/10",onClick:()=>E(e.id,e.sets,-1),children:"-"}),(0,i.jsxs)("div",{className:"min-w-[42px] text-center text-sm font-semibold",children:[n,"/",e.sets]}),(0,i.jsx)("button",{className:"rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm hover:bg-white/10",onClick:()=>E(e.id,e.sets,1),children:"+"})]})]})},e.id)})})]},e.name))]}),(0,i.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,i.jsx)(o.Z,{variant:"primary",onClick:F,children:"Finalizar entrenamiento"}),(0,i.jsx)(o.Z,{variant:"ghost",onClick:async()=>{console.log("Actions today:",await f.db.actions.where({dateISO:e}).toArray()),_("Logs listos (ver consola).")},children:"Debug"})]})]})]})}},111:function(e,a,s){"use strict";s.d(a,{j:function(){return t},n:function(){return i}});let i=[{id:"pushup_knee",name:"Flexiones con rodillas",sets:3,reps:8,restSec:60,minKi:0,tags:["push"],description:"Manos bajo hombros, cuerpo en l\xednea. Apoya rodillas y baja hasta 90\xb0 en codos."},{id:"pushup",name:"Flexiones",sets:3,reps:8,restSec:60,minKi:50,tags:["push"],description:"Plancha firme, baja pecho cerca del piso y empuja fuerte sin colapsar la cadera."},{id:"pushup_slow",name:"Flexiones lentas (3s bajada)",sets:4,reps:10,restSec:75,minKi:300,tags:["push"],description:"3 segundos bajando, 1s pausa suave, sube controlado. Mant\xe9n hombros lejos de orejas."},{id:"pushup_decline",name:"Flexiones declinadas",sets:4,reps:10,restSec:90,minKi:600,tags:["push"],description:"Pies elevados en banco/sill\xf3n. Core activo, baja en control y empuja explosivo."},{id:"dips_chair",name:"Fondos en silla/banco",sets:3,reps:10,restSec:75,minKi:250,tags:["push","triceps"],description:"Manos en el borde, cuerpo cerca del banco, baja hasta 90\xb0 en codos y sube extendiendo."},{id:"squat",name:"Sentadillas aire",sets:3,reps:15,restSec:60,minKi:0,tags:["legs"],description:"Pies al ancho de hombros, baja cadera bajo paralela si puedes, rodillas siguen puntas."},{id:"squat_pause",name:"Sentadilla con pausa (1s abajo)",sets:4,reps:15,restSec:75,minKi:100,tags:["legs"],description:"Misma t\xe9cnica que la sentadilla, mant\xe9n 1s al fondo con tronco estable y sube s\xf3lido."},{id:"lunge",name:"Zancadas",sets:3,reps:10,restSec:75,minKi:100,tags:["legs"],description:"Paso largo, rodilla trasera hacia el suelo, tronco alto. Alterna piernas."},{id:"split_squat",name:"Split squat (est\xe1tico)",sets:4,reps:10,restSec:90,minKi:600,tags:["legs"],description:"Pie adelantado fijo, baja en eje vertical, empuja con el medio del pie delantero."},{id:"jump_squat",name:"Sentadillas con salto",sets:4,reps:12,restSec:90,minKi:1e3,tags:["legs","power"],description:"Aterriza suave con rodillas alineadas. Enf\xf3cate en calidad y control de impacto."},{id:"plank",name:"Plancha",sets:3,timeSec:20,restSec:45,minKi:0,tags:["core"],description:"Codos bajo hombros, gl\xfateos apretados, costillas hacia adentro. Sin arquear lumbar."},{id:"plank_30",name:"Plancha 30s",sets:3,timeSec:30,restSec:45,minKi:100,tags:["core"],description:"Versi\xf3n extendida de plancha. Respira controlado sin perder tensi\xf3n."},{id:"side_plank",name:"Plancha lateral",sets:3,timeSec:25,restSec:45,minKi:600,tags:["core"],description:"Codo bajo hombro, cadera elevada, l\xednea recta de tobillos a hombros."},{id:"hollow",name:"Hollow hold",sets:3,timeSec:30,restSec:45,minKi:300,tags:["core"],description:"Zona lumbar pegada al suelo, om\xf3platos del piso, piernas y brazos estirados."},{id:"mountain_climbers",name:"Mountain climbers",sets:3,timeSec:30,restSec:45,minKi:600,tags:["conditioning","core"],description:"Plancha alta, lleva rodillas al pecho sin subir cadera. Ritmo constante."},{id:"burpees",name:"Burpees",sets:4,reps:8,restSec:90,minKi:1e3,tags:["conditioning"],description:"Pecho al piso, salta al volver. Mant\xe9n t\xe9cnica s\xf3lida m\xe1s que velocidad al principio."},{id:"bear_crawl",name:"Bear crawl (ida y vuelta)",sets:4,timeSec:25,restSec:75,minKi:1500,tags:["conditioning"],description:"Caderas bajas, manos bajo hombros, rodillas cerca del piso. Avanza coordinado."},{id:"pike_push_elev",name:"Pike push-up (pies elevados)",sets:4,reps:8,restSec:90,minKi:2200,tags:["push","shoulders"],description:"Caderas altas, cabeza baja entre manos, baja controlado hasta casi tocar el piso."},{id:"shrimp_squat",name:"Shrimp squat asistido",sets:4,reps:6,restSec:90,minKi:2200,tags:["legs","balance"],description:"Sujeta el pie trasero y baja en una pierna ayud\xe1ndote de un soporte para equilibrio."},{id:"hang_knee_raise",name:"Elevaciones de rodillas colgado",sets:4,reps:10,restSec:60,minKi:2200,tags:["core","pull"],description:"Cuelga de barra y eleva rodillas al pecho sin balanceo excesivo."},{id:"hs_hold_wall",name:"Handstand hold (a pared)",sets:4,timeSec:30,restSec:60,minKi:3e3,tags:["shoulders","balance","core"],description:"Apoya talones en pared, empuja el suelo, gl\xfateos y abdomen firmes, mirada entre manos."},{id:"nordic_assisted",name:"Nordic curl asistido",sets:4,reps:6,restSec:120,minKi:3e3,tags:["legs","posterior_chain"],description:"Rodillas acolchadas, desciende lento desde rodillas manteniendo cadera extendida. Usa apoyo si hace falta."},{id:"pullup",name:"Dominadas",sets:4,reps:5,restSec:120,minKi:3e3,tags:["pull"],description:"Agarre al ancho de hombros, pecho a la barra, baja completo sin balanceo."},{id:"hs_pushup_wall",name:"Handstand push-up (pared)",sets:4,reps:5,restSec:120,minKi:4e3,tags:["push","shoulders"],description:"Desde handstand en pared, baja controlado hasta cabeza al coj\xedn y empuja a bloqueo."},{id:"pistol_box",name:"Pistol squat a caja",sets:4,reps:6,restSec:120,minKi:4e3,tags:["legs","balance"],description:"Sentadilla a una pierna a una caja/banquito, controla la bajada y la rodilla alineada."},{id:"toes_to_bar",name:"Toes-to-bar",sets:4,reps:6,restSec:90,minKi:4e3,tags:["core","pull"],description:"Cuelga estable y lleva puntas de pies a la barra con control, evita columpio excesivo."},{id:"dips_bar",name:"Fondos en barra/aneas",sets:4,reps:8,restSec:120,minKi:5500,tags:["push","triceps"],description:"Bloquea codos arriba, baja profundo sin colapsar hombros y empuja fuerte a extensi\xf3n."},{id:"dragon_flag_neg",name:"Dragon flag (negativas)",sets:4,reps:5,restSec:120,minKi:5500,tags:["core"],description:"Sujeta banca desde atr\xe1s, cuerpo en bloque, desciende lento manteniendo tensi\xf3n total."},{id:"shrimp_squat_full",name:"Shrimp squat (completo)",sets:4,reps:6,restSec:120,minKi:5500,tags:["legs","balance"],description:"Sin asistencia: toca rodilla trasera al piso y sube estable, torso alto."},{id:"oa_pushup_assisted",name:"Flexi\xf3n a una mano (asistida)",sets:4,reps:5,restSec:120,minKi:7e3,tags:["push"],description:"Apoya mano libre sobre caja/pared para asistencia, cadera y hombros cuadrados."},{id:"pistol_squat",name:"Pistol squat",sets:4,reps:5,restSec:120,minKi:7e3,tags:["legs","balance"],description:"Baja controlado a una pierna sin colapsar arco del pie, mirada al frente."},{id:"front_lever_tuck",name:"Front lever (tuck)",sets:5,timeSec:12,restSec:90,minKi:7e3,tags:["core","pull"],description:"Cuelga en barra/anillas, piernas recogidas, hombros extendidos (depresi\xf3n escapular)."},{id:"oa_pushup",name:"Flexi\xf3n a una mano",sets:5,reps:3,restSec:150,minKi:9e3,tags:["push"],description:"Pies abiertos, baja en control a una mano manteniendo l\xednea corporal y rotaci\xf3n neutra."},{id:"hs_pushup_free",name:"Handstand push-up libre",sets:5,reps:3,restSec:150,minKi:9e3,tags:["push","shoulders","balance"],description:"HSPU sin pared: controla equilibrio, baja vertical y empuja con bloque s\xf3lido."},{id:"front_lever_adv_tuck",name:"Front lever (tuck avanzado)",sets:5,timeSec:10,restSec:120,minKi:9e3,tags:["core","pull"],description:"Mayor palanca que tuck: mant\xe9n codos extendidos y hombros en depresi\xf3n sin balanceo."}];function t(e,a){let s=i.filter(e=>a.includes(e.id));if(0===s.length)throw Error("No candidates for exercise pick");let t=s.filter(a=>e>=a.minKi);return 0===t.length?s.sort((e,a)=>e.minKi-a.minKi)[0]:t.sort((e,a)=>a.minKi-e.minKi)[0]}},149:function(e,a,s){"use strict";s.d(a,{$T:function(){return n},YD:function(){return i},rS:function(){return t}});let i=[{key:"normal",name:"Normal",minKi:0,emoji:"\uD83D\uDE42"},{key:"kaioken",name:"Kaioken",minKi:100,emoji:"\uD83D\uDD25"},{key:"kaioken10",name:"Kaioken \xd710",minKi:300,emoji:"\uD83D\uDD25\uD83D\uDD25"},{key:"ssj",name:"S\xfaper Saiyan",minKi:600,emoji:"\uD83D\uDC9B"},{key:"ssj2",name:"S\xfaper Saiyan 2",minKi:1e3,emoji:"⚡"},{key:"ssj3",name:"S\xfaper Saiyan 3",minKi:1500,emoji:"\uD83D\uDD25"},{key:"ssj4",name:"S\xfaper Saiyan 4",minKi:2200,emoji:"\uD83E\uDD8D"},{key:"god",name:"S\xfaper Saiyan Dios",minKi:3e3,emoji:"\uD83D\uDD34"},{key:"blue",name:"S\xfaper Saiyan Dios SS",minKi:4e3,emoji:"\uD83D\uDD35"},{key:"blue_kaioken",name:"Dios SS + Kaioken",minKi:5500,emoji:"\uD83D\uDD35\uD83D\uDD25"},{key:"ui",name:"Ultra Instinto",minKi:7e3,emoji:"⚪"},{key:"mui",name:"Ultra Instinto Dominado",minKi:9e3,emoji:"⚪✨"}];function t(e){let a=i[0];for(let s of i)e>=s.minKi&&(a=s);return a}function n(e){for(let a of i)if(e<a.minKi)return a;return null}},7424:function(e,a,s){"use strict";s.d(a,{js:function(){return l},ar:function(){return o}});var i=s(9608);let t=[{questId:"main_workout",title:"Main Quest: Entrenamiento",description:"Completa el entrenamiento del d\xeda (modo completo o corto).",rewardKi:0},{questId:"side_walk_or_mobility",title:"Side Quest: Movimiento suave",description:"Haz una caminata de 20–30 min o movilidad 8–12 min.",rewardKi:5,actionType:"walk"},{questId:"discipline_sleep",title:"Discipline Quest: Descanso",description:"Dorm\xed bien (autodeclarado).",rewardKi:5,actionType:"sleep"},{questId:"discipline_food",title:"Discipline Quest: Alimentaci\xf3n",description:"Com\xed decente hoy (autodeclarado).",rewardKi:5,actionType:"food"}];var n=s(8902);function o(){return t}async function r(e,a){return await i.db.quests.where({dateISO:e,questId:a}).count()>0}async function l(e){let{dateISO:a,questId:s,actionOverride:o}=e;if(await r(a,s))return{kiAdded:0,message:"Quest ya completada hoy."};let l=t.find(e=>e.questId===s);if(!l)throw Error("Quest desconocida");await i.db.quests.add({dateISO:a,questId:s,completedAtISO:new Date().toISOString(),meta:o?{actionOverride:o}:void 0});if("side_walk_or_mobility"===s){let e=await (0,n.J)({todayISO:a,type:null!=o?o:"walk",note:"quest:".concat(s)});return{kiAdded:e.kiAdded,message:e.message}}if(l.actionType){let e=await (0,n.J)({todayISO:a,type:l.actionType,note:"quest:".concat(s)});return{kiAdded:e.kiAdded,message:e.message}}return{kiAdded:0,message:"Quest registrada."}}},3960:function(e,a,s){"use strict";function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter(Boolean).join(" ")}function t(e){return!e||e<=0?"0:00":"".concat(Math.floor(e/60),":").concat(String(Math.floor(e%60)).padStart(2,"0"))}s.d(a,{Z:function(){return t},cn:function(){return i}})}},function(e){e.O(0,[635,173,971,23,744],function(){return e(e.s=9335)}),_N_E=e.O()}]);