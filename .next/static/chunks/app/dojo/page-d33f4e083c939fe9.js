(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{5328:function(e,a,s){Promise.resolve().then(s.bind(s,7229))},7229:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return l}});var t=s(7437),n=s(1672),r=s(2265),i=s(2694),o=s(111);function l(){let{player:e,settings:a,loading:s}=(0,i.nn)(),[l,c]=(0,r.useState)(""),d=(0,r.useMemo)(()=>{let e=l.trim().toLowerCase();return o.n.slice().sort((e,a)=>e.minKi-a.minKi).filter(a=>!e||a.name.toLowerCase().includes(e))},[l]);return!s&&e&&a?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.Z,{title:"Dojo de ejercicios",right:(0,t.jsxs)("div",{className:"text-xs text-white/60",children:["KI: ",e.kiTotal]}),children:(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("input",{value:l,onChange:e=>c(e.target.value),placeholder:"Buscar ejercicio...",className:"w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm outline-none focus:border-white/25"})})}),(0,t.jsx)(n.Z,{title:"Cat\xe1logo",children:(0,t.jsx)("div",{className:"space-y-2",children:d.map(a=>{var s;let n=e.kiTotal>=a.minKi,r=a.reps?"".concat(a.sets,"\xd7").concat(a.reps," reps"):"".concat(a.sets,"\xd7").concat(null!==(s=a.timeSec)&&void 0!==s?s:0,"s");return(0,t.jsx)("div",{className:["rounded-2xl border p-3",n?"border-white/10 bg-black/20":"border-white/10 bg-black/10 opacity-70"].join(" "),children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:a.name}),(0,t.jsxs)("div",{className:"text-xs text-white/60",children:[r," • descanso ",a.restSec,"s • min KI ",a.minKi]}),a.description?(0,t.jsx)("div",{className:"mt-1 text-xs text-white/70",children:a.description}):null,(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-white/55",children:["Tags: ",a.tags.join(", ")]})]}),(0,t.jsx)("div",{className:"text-xs",children:n?(0,t.jsx)("span",{className:"rounded-xl border border-emerald-500/25 bg-emerald-500/12 px-2 py-1 text-emerald-100",children:"Activo"}):(0,t.jsx)("span",{className:"rounded-xl border border-white/10 bg-white/5 px-2 py-1 text-white/60",children:"Bloqueado"})})]})},a.id)})})})]}):(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(n.Z,{title:"Cargando dojo..."})})}},1672:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(7437);function n(e){let{title:a,children:s,right:n}=e;return(0,t.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-soft",children:[a||n?(0,t.jsxs)("header",{className:"mb-3 flex items-start justify-between gap-4",children:[a?(0,t.jsx)("h2",{className:"text-sm font-semibold text-white/90",children:a}):(0,t.jsx)("div",{}),n]}):null,null!=s?s:null]})}},1550:function(e,a,s){"use strict";function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(s,"-").concat(t)}function n(e,a){return e===function(e,a){let s=function(e){let[a,s,t]=e.split("-").map(e=>Number(e));return new Date(a,(null!=s?s:1)-1,null!=t?t:1)}(e);return s.setDate(s.getDate()+-1),t(s)}(a,0)}s.d(a,{Gs:function(){return t},tn:function(){return n}})},9608:function(e,a,s){"use strict";s.d(a,{C6:function(){return c},Sh:function(){return o},db:function(){return i},j3:function(){return d},wv:function(){return l}});var t=s(4635),n=s(1550);class r extends t.ZP{constructor(){super("turtleKiDB"),this.version(1).stores({player:"id",settings:"id",actions:"++id, dateISO, type, createdAtISO",quests:"++id, dateISO, questId, completedAtISO",workouts:"++id, dateISO, templateId, completedAtISO"})}}let i=new r;async function o(){let[e,a]=await Promise.all([i.player.get("player"),i.settings.get("settings")]),s=new Date().toISOString(),t=(0,n.Gs)();e||await i.player.put({id:"player",kiTotal:0,kiToday:0,streak:0,lastDailyResetISO:t,lastTrainingISO:void 0,createdAtISO:s,updatedAtISO:s}),a||await i.settings.put({id:"settings",dailyKiCap:50,difficulty:"normal",reduceMotion:!1})}async function l(){await i.transaction("rw",[i.player,i.settings,i.actions,i.quests,i.workouts],async()=>{await Promise.all([i.player.clear(),i.settings.clear(),i.actions.clear(),i.quests.clear(),i.workouts.clear()])}),await o()}async function c(){let[e,a,s,t,n]=await Promise.all([i.player.get("player"),i.settings.get("settings"),i.actions.toArray(),i.quests.toArray(),i.workouts.toArray()]);return{exportedAtISO:new Date().toISOString(),player:e,settings:a,actions:s,quests:t,workouts:n}}async function d(e){if(!e||"object"!=typeof e)throw Error("Payload inv\xe1lido");await i.transaction("rw",[i.player,i.settings,i.actions,i.quests,i.workouts],async()=>{await Promise.all([i.player.clear(),i.settings.clear(),i.actions.clear(),i.quests.clear(),i.workouts.clear()]),e.player&&await i.player.put(e.player),e.settings&&await i.settings.put(e.settings),Array.isArray(e.actions)&&e.actions.length&&await i.actions.bulkAdd(e.actions),Array.isArray(e.quests)&&e.quests.length&&await i.quests.bulkAdd(e.quests),Array.isArray(e.workouts)&&e.workouts.length&&await i.workouts.bulkAdd(e.workouts)}),await o()}},111:function(e,a,s){"use strict";s.d(a,{j:function(){return n},n:function(){return t}});let t=[{id:"pushup_knee",name:"Flexiones con rodillas",sets:3,reps:8,restSec:60,minKi:0,tags:["push"],description:"Manos bajo hombros, cuerpo en l\xednea. Apoya rodillas y baja hasta 90\xb0 en codos."},{id:"pushup",name:"Flexiones",sets:3,reps:8,restSec:60,minKi:50,tags:["push"],description:"Plancha firme, baja pecho cerca del piso y empuja fuerte sin colapsar la cadera."},{id:"pushup_slow",name:"Flexiones lentas (3s bajada)",sets:4,reps:10,restSec:75,minKi:300,tags:["push"],description:"3 segundos bajando, 1s pausa suave, sube controlado. Mant\xe9n hombros lejos de orejas."},{id:"pushup_decline",name:"Flexiones declinadas",sets:4,reps:10,restSec:90,minKi:600,tags:["push"],description:"Pies elevados en banco/sill\xf3n. Core activo, baja en control y empuja explosivo."},{id:"dips_chair",name:"Fondos en silla/banco",sets:3,reps:10,restSec:75,minKi:250,tags:["push","triceps"],description:"Manos en el borde, cuerpo cerca del banco, baja hasta 90\xb0 en codos y sube extendiendo."},{id:"squat",name:"Sentadillas aire",sets:3,reps:15,restSec:60,minKi:0,tags:["legs"],description:"Pies al ancho de hombros, baja cadera bajo paralela si puedes, rodillas siguen puntas."},{id:"squat_pause",name:"Sentadilla con pausa (1s abajo)",sets:4,reps:15,restSec:75,minKi:100,tags:["legs"],description:"Misma t\xe9cnica que la sentadilla, mant\xe9n 1s al fondo con tronco estable y sube s\xf3lido."},{id:"lunge",name:"Zancadas",sets:3,reps:10,restSec:75,minKi:100,tags:["legs"],description:"Paso largo, rodilla trasera hacia el suelo, tronco alto. Alterna piernas."},{id:"split_squat",name:"Split squat (est\xe1tico)",sets:4,reps:10,restSec:90,minKi:600,tags:["legs"],description:"Pie adelantado fijo, baja en eje vertical, empuja con el medio del pie delantero."},{id:"jump_squat",name:"Sentadillas con salto",sets:4,reps:12,restSec:90,minKi:1e3,tags:["legs","power"],description:"Aterriza suave con rodillas alineadas. Enf\xf3cate en calidad y control de impacto."},{id:"plank",name:"Plancha",sets:3,timeSec:20,restSec:45,minKi:0,tags:["core"],description:"Codos bajo hombros, gl\xfateos apretados, costillas hacia adentro. Sin arquear lumbar."},{id:"plank_30",name:"Plancha 30s",sets:3,timeSec:30,restSec:45,minKi:100,tags:["core"],description:"Versi\xf3n extendida de plancha. Respira controlado sin perder tensi\xf3n."},{id:"side_plank",name:"Plancha lateral",sets:3,timeSec:25,restSec:45,minKi:600,tags:["core"],description:"Codo bajo hombro, cadera elevada, l\xednea recta de tobillos a hombros."},{id:"hollow",name:"Hollow hold",sets:3,timeSec:30,restSec:45,minKi:300,tags:["core"],description:"Zona lumbar pegada al suelo, om\xf3platos del piso, piernas y brazos estirados."},{id:"mountain_climbers",name:"Mountain climbers",sets:3,timeSec:30,restSec:45,minKi:600,tags:["conditioning","core"],description:"Plancha alta, lleva rodillas al pecho sin subir cadera. Ritmo constante."},{id:"burpees",name:"Burpees",sets:4,reps:8,restSec:90,minKi:1e3,tags:["conditioning"],description:"Pecho al piso, salta al volver. Mant\xe9n t\xe9cnica s\xf3lida m\xe1s que velocidad al principio."},{id:"bear_crawl",name:"Bear crawl (ida y vuelta)",sets:4,timeSec:25,restSec:75,minKi:1500,tags:["conditioning"],description:"Caderas bajas, manos bajo hombros, rodillas cerca del piso. Avanza coordinado."},{id:"pike_push_elev",name:"Pike push-up (pies elevados)",sets:4,reps:8,restSec:90,minKi:2200,tags:["push","shoulders"],description:"Caderas altas, cabeza baja entre manos, baja controlado hasta casi tocar el piso."},{id:"shrimp_squat",name:"Shrimp squat asistido",sets:4,reps:6,restSec:90,minKi:2200,tags:["legs","balance"],description:"Sujeta el pie trasero y baja en una pierna ayud\xe1ndote de un soporte para equilibrio."},{id:"hang_knee_raise",name:"Elevaciones de rodillas colgado",sets:4,reps:10,restSec:60,minKi:2200,tags:["core","pull"],description:"Cuelga de barra y eleva rodillas al pecho sin balanceo excesivo."},{id:"hs_hold_wall",name:"Handstand hold (a pared)",sets:4,timeSec:30,restSec:60,minKi:3e3,tags:["shoulders","balance","core"],description:"Apoya talones en pared, empuja el suelo, gl\xfateos y abdomen firmes, mirada entre manos."},{id:"nordic_assisted",name:"Nordic curl asistido",sets:4,reps:6,restSec:120,minKi:3e3,tags:["legs","posterior_chain"],description:"Rodillas acolchadas, desciende lento desde rodillas manteniendo cadera extendida. Usa apoyo si hace falta."},{id:"pullup",name:"Dominadas",sets:4,reps:5,restSec:120,minKi:3e3,tags:["pull"],description:"Agarre al ancho de hombros, pecho a la barra, baja completo sin balanceo."},{id:"hs_pushup_wall",name:"Handstand push-up (pared)",sets:4,reps:5,restSec:120,minKi:4e3,tags:["push","shoulders"],description:"Desde handstand en pared, baja controlado hasta cabeza al coj\xedn y empuja a bloqueo."},{id:"pistol_box",name:"Pistol squat a caja",sets:4,reps:6,restSec:120,minKi:4e3,tags:["legs","balance"],description:"Sentadilla a una pierna a una caja/banquito, controla la bajada y la rodilla alineada."},{id:"toes_to_bar",name:"Toes-to-bar",sets:4,reps:6,restSec:90,minKi:4e3,tags:["core","pull"],description:"Cuelga estable y lleva puntas de pies a la barra con control, evita columpio excesivo."},{id:"dips_bar",name:"Fondos en barra/aneas",sets:4,reps:8,restSec:120,minKi:5500,tags:["push","triceps"],description:"Bloquea codos arriba, baja profundo sin colapsar hombros y empuja fuerte a extensi\xf3n."},{id:"dragon_flag_neg",name:"Dragon flag (negativas)",sets:4,reps:5,restSec:120,minKi:5500,tags:["core"],description:"Sujeta banca desde atr\xe1s, cuerpo en bloque, desciende lento manteniendo tensi\xf3n total."},{id:"shrimp_squat_full",name:"Shrimp squat (completo)",sets:4,reps:6,restSec:120,minKi:5500,tags:["legs","balance"],description:"Sin asistencia: toca rodilla trasera al piso y sube estable, torso alto."},{id:"oa_pushup_assisted",name:"Flexi\xf3n a una mano (asistida)",sets:4,reps:5,restSec:120,minKi:7e3,tags:["push"],description:"Apoya mano libre sobre caja/pared para asistencia, cadera y hombros cuadrados."},{id:"pistol_squat",name:"Pistol squat",sets:4,reps:5,restSec:120,minKi:7e3,tags:["legs","balance"],description:"Baja controlado a una pierna sin colapsar arco del pie, mirada al frente."},{id:"front_lever_tuck",name:"Front lever (tuck)",sets:5,timeSec:12,restSec:90,minKi:7e3,tags:["core","pull"],description:"Cuelga en barra/anillas, piernas recogidas, hombros extendidos (depresi\xf3n escapular)."},{id:"oa_pushup",name:"Flexi\xf3n a una mano",sets:5,reps:3,restSec:150,minKi:9e3,tags:["push"],description:"Pies abiertos, baja en control a una mano manteniendo l\xednea corporal y rotaci\xf3n neutra."},{id:"hs_pushup_free",name:"Handstand push-up libre",sets:5,reps:3,restSec:150,minKi:9e3,tags:["push","shoulders","balance"],description:"HSPU sin pared: controla equilibrio, baja vertical y empuja con bloque s\xf3lido."},{id:"front_lever_adv_tuck",name:"Front lever (tuck avanzado)",sets:5,timeSec:10,restSec:120,minKi:9e3,tags:["core","pull"],description:"Mayor palanca que tuck: mant\xe9n codos extendidos y hombros en depresi\xf3n sin balanceo."}];function n(e,a){let s=t.filter(e=>a.includes(e.id));if(0===s.length)throw Error("No candidates for exercise pick");let n=s.filter(a=>e>=a.minKi);return 0===n.length?s.sort((e,a)=>e.minKi-a.minKi)[0]:n.sort((e,a)=>a.minKi-e.minKi)[0]}},2694:function(e,a,s){"use strict";s.d(a,{nn:function(){return o},s2:function(){return c},tu:function(){return l},e6:function(){return d}});var t=s(4635),n=s(2265);function r(e,a,s){return function(e,a,s){"function"==typeof e?(t=a||[],r=s):(t=[],r=a);var t,r,i=n.useRef({hasResult:!1,result:r,error:null}),o=n.useReducer(function(e){return e+1},0);o[0];var l=o[1],c=n.useMemo(function(){var a="function"==typeof e?e():e;if(!a||"function"!=typeof a.subscribe){if(e===a)throw TypeError("Given argument to useObservable() was neither a valid observable nor a function.");throw TypeError("Observable factory given to useObservable() did not return a valid observable.")}if(!i.current.hasResult&&"undefined"!=typeof window&&("function"!=typeof a.hasValue||a.hasValue())){if("function"==typeof a.getValue)i.current.result=a.getValue(),i.current.hasResult=!0;else{var s=a.subscribe(function(e){i.current.result=e,i.current.hasResult=!0});"function"==typeof s?s():s.unsubscribe()}}return a},t);if(n.useDebugValue(i.current.result),n.useEffect(function(){var e=c.subscribe(function(e){var a=i.current;(null!==a.error||a.result!==e)&&(a.error=null,a.result=e,a.hasResult=!0,l())},function(e){var a=i.current;a.error!==e&&(a.error=e,l())});return"function"==typeof e?e:e.unsubscribe.bind(e)},t),i.current.error)throw i.current.error;return i.current.result}(function(){return(0,t.Y1)(e)},a||[],s)}var i=s(9608);function o(){let e=r(async()=>i.db.player.get("player"),[]),a=r(async()=>i.db.settings.get("settings"),[]);return{player:e,settings:a,loading:!e||!a}}function l(e){let a=r(async()=>i.db.quests.where({dateISO:e}).toArray(),[e]),s=r(async()=>i.db.actions.where({dateISO:e}).toArray(),[e]),t=r(async()=>i.db.workouts.where({dateISO:e}).toArray(),[e]);return{questCompletions:null!=a?a:[],actions:null!=s?s:[],workouts:null!=t?t:[]}}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,a=r(async()=>await i.db.actions.orderBy("createdAtISO").reverse().limit(e).toArray(),[e]);return null!=a?a:[]}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,a=r(async()=>await i.db.workouts.orderBy("completedAtISO").reverse().limit(e).toArray(),[e]);return null!=a?a:[]}}},function(e){e.O(0,[635,971,23,744],function(){return e(e.s=5328)}),_N_E=e.O()}]);